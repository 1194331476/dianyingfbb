function isSB360(){var a=navigator.userAgent.toLowerCase();return!!(/chrome/i.test(a)&&/webkit/i.test(a)&&/360EE/i.test(a))}function thunderLinker(arg1,arg2,arg3){var pid=arguments[0],strPath=arguments[1],linkStyle=arguments[2]?arguments[2]:"",append="undefined"!=typeof arguments[3]?arguments[3]:null,convertSingle=!1,txtV=unescape("%u8FC5%u96F7%u4E13%u7528%u9AD8%u901F%u4E0B%u8F7D"),exceptPath="",convertCount=0,htmlB="",htmlBf="",linkModal=thunderLinker.LINK+"&nbsp;&nbsp;",posStr=0,thunderHref=thunderHrefAttr;try{htmlB=thunderHTMLInsert}catch(e){htmlB="&nbsp;"}try{0!=thunderLinkPos&&null!=thunderLinkPos&&(posStr="afterEnd",htmlBf=htmlB,htmlB="")}catch(e){posStr="beforeBegin"}try{convertCount=thunderLinkCount}catch(e){convertCount=0}try{exceptPath=thunderExceptPath}catch(e){exceptPath=""}try{linkModal=thunderLinkHTML}catch(e){}if(linkModal.indexOf(thunderLinker.LINK)<0&&(linkModal+=thunderLinker.LINK),null==append)try{append=thunderAppend}catch(e){append=!1}if(thunderLinker.isDebug&&alert(append),""==linkStyle||"undefined"==typeof linkStyle)try{linkStyle=thunderLinkStyle}catch(e){linkStyle=""}""!=linkStyle&&(linkStyle=linkStyle.replace(/\\/g,"\\"));var thunderSufix=".srt|.mkv|.jad|.bis|.bin|.sw|.reg|.sisx|.sis|.eet|.xls|.nh|.kdh|.ppt|.mdf|.wmp|.doc|.pdf|.chm|.asf|.avi|.exe|.iso|.mp3|.mpeg|.mpg|.mpga|.ra|.rar|.rm|.rmvb|.tar|.wma|.wmv|.zip|.swf|.mp4|.3gp|.torrent|.txt|.jar|.mov|.wav|.eip";if("undefined"==typeof pid||null==pid){try{pid=thunderPid}catch(e){pid=""}if(""==pid||null==typeof pid||isNaN(pid))return thunderLinker.isDebug&&alert("Pid is not provided!"),!1}if(null==strPath||"undefined"==typeof strPath)try{strPath=thunderPath}catch(e){strPath=""}var a=document.links,thunderSufix=thunderSufix.replace(/\./g,"\\."),reg=eval("/^(http:\\/\\/|ftp:\\/\\/|mms:\\/\\/){1}[\\s\\S]*?("+thunderSufix+"){1}$/i"),aLength=a.length,addL=0,converted=0;0>=convertCount&&(convertCount=aLength);for(var i=0;aLength>i;i++)if(a[i+addL].href){if(""!=exceptPath)if("string"==typeof exceptPath){if(a[i+addL].href.indexOf(exceptPath)>=0)continue}else if(exceptPath.test&&null!=a[i+addL].href.match(exceptPath))continue;var tmpThunderH=a[i+addL].getAttribute(thunderHref);if("#"==a[i+addL].href.substr(a[i+addL].href.length-1,1)&&tmpThunderH){thunderLinker.isDebug&&(alert("ThunderHref:"+tmpThunderH),alert("href:"+a[i+addL].href));continue}var lk=a[i+addL].href,href="",thP="",thSufix="thunder://";if(0==lk.indexOf(thSufix))thP=lk,thunderLinker.isDebug&&alert("thunderLinker!["+thP+"]");else if(reg.test(lk))href=lk;else if(""!=strPath&&null!=strPath)if("string"==typeof strPath)lk.toLowerCase().indexOf("/"+strPath)>-1&&(href=lk,thunderLinker.isDebug&&alert("other://String Path Valid!"));else if(strPath.test){var dddd=strPath.test(lk);lk.indexOf("attachment")>0&&thunderLinker.isDebug&&alert(String(strPath)+".test('"+lk+"')="+String(dddd)),null!=lk.match(strPath)?(href=lk,thunderLinker.isDebug&&alert("**********************RegEx*********************")):thunderLinker.isDebug&&alert("other://Reg Path Invalid!\n["+strPath+"]"+lk+"||||<"+String(dddd)+">||||")}if(""!=href&&(thP=ThunderEncode(href)),""!=thP){var tmpLk=a[i+addL];if(""!=linkStyle)if(append&&""!=href)""!=href&&(a[i+addL].insertAdjacentHTML(posStr,linkModal.replace(thunderLinker.LINK,htmlBf+"<a target='_self' href='#' title='"+txtV+"' "+thunderHref+"='"+thP+"' thunderPid='"+pid+"' thunderType='' thunderResTitle='' onClick='return OnDownloadClick_Simple(this,2)' oncontextmenu='ThunderNetwork_SetHref(this)'>"+linkStyle.replace(thunderLinker.TITLE,tmpLk.innerHTML)+"</a>")+htmlB),thunderLinker.isDebug&&alert(s.innerHTML),addL++,converted++);else{try{var s=document.createElement("anchor");s.innerHTML+=linkModal.replace(thunderLinker.LINK,"<a target='_self' href='#' title='"+txtV+"' "+thunderHref+"='"+thP+"' thunderPid='"+pid+"' thunderType='' thunderResTitle='' onClick='return OnDownloadClick_Simple(this,2)' oncontextmenu='ThunderNetwork_SetHref(this)'>"+linkStyle.replace(thunderLinker.TITLE,tmpLk.innerHTML)+"</a>"),tmpLk.replaceNode(s)}catch(e){tmpLk.setAttribute("target","_self"),tmpLk.setAttribute("href","#"),tmpLk.setAttribute("thunderPid",pid),tmpLk.setAttribute("thunderType",""),tmpLk.setAttribute("thunderResTitle",tmpLk.innerHTML),tmpLk.setAttribute("onclick","return OnDownloadClick_Simple(this,2);"),tmpLk.setAttribute("oncontextmenu","ThunderNetwork_SetHref(this)"),tmpLk.setAttribute(thunderHref,thP)}converted++}else if(append&&""!=href)""!=href&&(a[i+addL].insertAdjacentHTML(posStr,linkModal.replace(thunderLinker.LINK,htmlBf+"<a target='_self' href='#' title='"+txtV+"' "+thunderHref+"='"+thP+"' thunderPid='"+pid+"' thunderType='' thunderResTitle='' onClick='return OnDownloadClick_Simple(this,2)' oncontextmenu='ThunderNetwork_SetHref(this)'><font color='red'>"+txtV+"</font></a>")+htmlB),thunderLinker.isDebug&&alert(s.innerHTML),addL++,converted++);else{try{var s=document.createElement("anchor");s.innerHTML+=linkModal.replace(thunderLinker.LINK,"<a target='_self' href='#' title='"+txtV+"' "+thunderHref+"='"+thP+"' thunderPid='"+pid+"' thunderType='' thunderResTitle='' onClick='return OnDownloadClick_Simple(this,2)' oncontextmenu='ThunderNetwork_SetHref(this)'>"+tmpLk.innerHTML+"</a>"),tmpLk.replaceNode(s)}catch(e){tmpLk.setAttribute("target","_self"),tmpLk.setAttribute("href","#"),tmpLk.setAttribute("thunderPid",pid),tmpLk.setAttribute("thunderType",""),tmpLk.setAttribute("thunderResTitle",tmpLk.innerHTML),tmpLk.setAttribute("onclick","return OnDownloadClick_Simple(this,2);"),tmpLk.setAttribute("oncontextmenu","ThunderNetwork_SetHref(this)"),tmpLk.setAttribute(thunderHref,thP)}converted++}if(thunderLinker.isDebug&&alert(converted),converted>=convertCount)break}}}if("undefined"==typeof thunderHrefAttr&&(thunderHrefAttr="thunderHref"),"undefined"==typeof GetUserBrowser)var thunderBroserName=navigator.userAgent.toLowerCase(),thunder_isIE=(/msie/i.test(thunderBroserName)||/trident/i.test(thunderBroserName))&&!/opera/.test(thunderBroserName);else var thunder_isIE="IE"==GetUserBrowser();thunder_isIE||(window.Node&&(Node.prototype.replaceNode=function(a){this.parentNode.replaceChild(a,this)},Node.prototype.removeNode=function(a){if(a)return this.parentNode.removeChild(this);var b=document.createRange();return b.selectNodeContents(this),this.parentNode.replaceChild(b.extractContents(),this)},Node.prototype.swapNode=function(a){var b=this.nextSibling,c=this.parentNode;node.parentNode.replaceChild(this,a),c.insertBefore(node,b)}),window.HTMLElement&&(HTMLElement.prototype.__defineGetter__("all",function(){var a=this.getElementsByTagName("*"),b=this;return a.tags=function(a){return b.getElementsByTagName(a)},a}),HTMLElement.prototype.__defineGetter__("parentElement",function(){return this.parentNode==this.ownerDocument?null:this.parentNode}),HTMLElement.prototype.__defineGetter__("children",function(){for(var a,b=[],c=0,d=0;d<this.childNodes.length;d++)a=this.childNodes[d],1==a.nodeType&&(b[c++]=a,a.name&&(b[a.name]||(b[a.name]=[]),b[a.name][b[a.name].length]=a),a.id&&(b[a.id]=a));return b}),HTMLElement.prototype.__defineGetter__("currentStyle",function(){return this.ownerDocument.defaultView.getComputedStyle(this,null)}),HTMLElement.prototype.__defineSetter__("outerHTML",function(a){var b=this.ownerDocument.createRange();b.setStartBefore(this);var c=b.createContextualFragment(a);return this.parentNode.replaceChild(c,this),a}),HTMLElement.prototype.__defineGetter__("outerHTML",function(){for(var a,b=this.attributes,c="<"+this.tagName,d=0;d<b.length;d++)a=b[d],a.specified&&(c+=" "+a.name+'="'+a.value+'"');return this.canHaveChildren?c+">"+this.innerHTML+"</"+this.tagName+">":c+">"}),HTMLElement.prototype.__defineGetter__("canHaveChildren",function(){switch(this.tagName.toLowerCase()){case"area":case"base":case"basefont":case"col":case"frame":case"hr":case"img":case"br":case"input":case"isindex":case"link":case"meta":case"param":return!1}return!0}),HTMLElement.prototype.__defineSetter__("innerText",function(a){var b=document.createTextNode(a);return this.innerHTML=b,b}),HTMLElement.prototype.__defineGetter__("innerText",function(){var a=this.ownerDocument.createRange();return a.selectNodeContents(this),a.toString()}),HTMLElement.prototype.__defineSetter__("outerText",function(a){var b=document.createTextNode(a);return this.outerHTML=b,b}),HTMLElement.prototype.__defineGetter__("outerText",function(){var a=this.ownerDocument.createRange();return a.selectNodeContents(this),a.toString()}),HTMLElement.prototype.attachEvent=function(a,b){var c=a.replace(/on/,"");b._ieEmuEventHandler=function(a){return window.event=a,b()},this.addEventListener(c,b._ieEmuEventHandler,!1)},HTMLElement.prototype.detachEvent=function(a,b){var c=a.replace(/on/,"");"function"==typeof b._ieEmuEventHandler?this.removeEventListener(c,b._ieEmuEventHandler,!1):this.removeEventListener(c,b,!0)},HTMLElement.prototype.contains=function(a){do if(a==this)return!0;while(a=a.parentNode);return!1},HTMLElement.prototype.insertAdjacentElement=function(a,b){switch(a){case"beforeBegin":this.parentNode.insertBefore(b,this);break;case"afterBegin":this.insertBefore(b,this.firstChild);break;case"beforeEnd":this.appendChild(b);break;case"afterEnd":this.nextSibling?this.parentNode.insertBefore(b,this.nextSibling):this.parentNode.appendChild(b)}},HTMLElement.prototype.insertAdjacentHTML=function(a,b){var c=this.ownerDocument.createRange();c.setStartBefore(this);var d=c.createContextualFragment(b);this.insertAdjacentElement(a,d)},HTMLElement.prototype.insertAdjacentText=function(a,b){var c=document.createTextNode(b);this.insertAdjacentElement(a,c)},HTMLElement.prototype.attachEvent=function(a,b){var c=a.replace(/on/,"");b._ieEmuEventHandler=function(a){return window.event=a,b()},this.addEventListener(c,b._ieEmuEventHandler,!1)},HTMLElement.prototype.detachEvent=function(a,b){var c=a.replace(/on/,"");"function"==typeof b._ieEmuEventHandler?this.removeEventListener(c,b._ieEmuEventHandler,!1):this.removeEventListener(c,b,!0)})),thunderLinker.TITLE="[$TITLE$]",thunderLinker.LINK="[$LINK$]",thunderLinker.isDebug=document.location.search.indexOf("thunderdbg=1")>0,thunderLinker.auto=!0,thunder_isIE&&(document.onreadystatechange=function(){if("complete"==document.readyState){try{thunderLinker.auto=thunderFuncType}catch(a){thunderLinker.auto=!0}if(document.body&&thunderLinker.auto){var b=function(){};"function"==typeof document.body.onload&&(b=document.body.onload),document.body.onload=function(){b(),thunderLinker()}}else if(thunderLinker.isDebug&&!document.body)for(b in document)alert(b)}});